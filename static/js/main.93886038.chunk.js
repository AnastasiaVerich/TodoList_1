(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{105:function(t,e,r){},131:function(t,e,r){"use strict";r.r(e);var a={};r.r(a),r.d(a,"selectIsLoggedIn",(function(){return vt}));var n,s,c=r(10),i=r.n(c),o=(r(105),r(0)),u=r.n(o),d=(r(65),r(178)),l=r(179),p=r(180),f=r(171),b=r(187),j=r(133),h=r(173),O=r(181),v=r(174),x=r(13),m=r(8),k=r.n(m),g=r(16),C=r(83),T=r.n(C).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"603ef8c0-4933-4294-ab5f-b170d3ebe6d8"}}),y=function(){return T.get("todo-lists")},I=function(t){return T.post("todo-lists",{title:t})},w=function(t){return T.delete("todo-lists/".concat(t))},A=function(t,e){return T.put("todo-lists/".concat(t),{title:e})},S=function(t){return T.get("todo-lists/".concat(t,"/tasks"))},E=function(t,e){return T.delete("todo-lists/".concat(t,"/tasks/").concat(e))},L=function(t,e){return T.post("todo-lists/".concat(e,"/tasks"),{title:t})},D=function(t,e,r){return T.put("todo-lists/".concat(t,"/tasks/").concat(e),r)},N=function(t){return T.post("auth/login",t)},P=function(){return T.delete("auth/login")},R=function(){return T.get("auth/me")},F=r(15),z={setAppStatus:Object(F.b)("appCommonActions/setAppStatus"),setAppError:Object(F.b)("appCommonActions/setAppError")},M=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(z.setAppError({error:t.messages.length?t.messages[0]:"Some error occurred"})),e.dispatch(z.setAppStatus({status:"failed"})),e.rejectWithValue({errors:t.messages,fieldsErrors:t.fieldsErrors})},H=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(z.setAppError({error:t.message?t.message:"Some error occurred"})),e.dispatch(z.setAppStatus({status:"failed"})),e.rejectWithValue({errors:[t.message],fieldsErrors:void 0})},W=z.setAppStatus,V=Object(F.c)("todolists/fetchTasks",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,y();case 4:return a=t.sent,r.dispatch(W({status:"succeeded"})),t.abrupt("return",{todolists:a.data});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),q=Object(F.c)("todolists/deleteTodolist",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.dispatch,r.rejectWithValue,a(W({status:"loading"})),a(Y({id:e,entityStatus:"loading"})),t.next=5,w(e);case 5:return t.sent,a(W({status:"succeeded"})),t.abrupt("return",{id:e});case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),B=Object(F.c)("todolists/createTodolist",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,I(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(W({status:"succeeded"})),t.abrupt("return",{todolist:a.data.data.item});case 10:return t.abrupt("return",M(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),G=Object(F.c)("todolists/updateTodolist",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(W({status:"loading"})),t.prev=1,t.next=4,A(e.id,e.title);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(W({status:"succeeded"})),t.abrupt("return",{id:e.id,title:e.title});case 10:return t.abrupt("return",M(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),U={updateTodolistTC:G,createTodolistTC:B,deleteTodolistTC:q,fetchTodolistsThunk:V},J=Object(F.d)({name:"todolists",initialState:[],reducers:{CHANGETODOLISTFILTERAC:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].filter=e.payload.filter},changeTodolistEntityStatusAC:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].entityStatus=e.payload.entityStatus}},extraReducers:function(t){t.addCase(V.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(x.a)(Object(x.a)({},t),{},{filter:"all",entityStatus:"idle"})}))})).addCase(q.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));r>-1&&t.splice(r,1)})).addCase(B.fulfilled,(function(t,e){t.unshift(Object(x.a)(Object(x.a)({},e.payload.todolist),{},{filter:"all",entityStatus:"idle"}))})).addCase(G.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].title=e.payload.title,console.log(t[r])}))}}),K=(J.reducer,J.actions),Y=K.changeTodolistEntityStatusAC,$=(K.CHANGETODOLISTFILTERAC,z.setAppStatus),_=Object(F.c)("tasks/fetchTasks",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch($({status:"loading"})),t.prev=1,t.next=4,S(e);case 4:return a=t.sent,n=a.data.items,r.dispatch($({status:"succeeded"})),t.abrupt("return",{tasks:n,todolistId:e});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}()),Q=Object(F.c)("tasks/createTasks",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch($({status:"loading"})),t.prev=1,t.next=4,L(e.title,e.todolistId);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(z.setAppStatus({status:"succeeded"})),t.abrupt("return",a.data.data.item);case 10:return t.abrupt("return",M(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),X=Object(F.c)("tasks/deleteTask",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch($({status:"loading"})),t.prev=1,t.next=4,E(e.todolistId,e.taskId);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch($({status:"succeeded"})),t.abrupt("return",{todolistId:e.todolistId,taskId:e.taskId});case 10:return t.abrupt("return",M(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Z=Object(F.c)("tasks/updateTask",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a,n,s,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState(),n=a.tasks[e.todolistId].find((function(t){return t.id===e.taskId}))){t.next=4;break}return t.abrupt("return",r.rejectWithValue("task not found in the state"));case 4:return s=Object(x.a)({deadline:n.deadline,description:n.description,priority:n.priority,startDate:n.startDate,title:n.title,status:n.status},e.model),r.dispatch($({status:"loading"})),t.prev=6,t.next=9,D(e.todolistId,e.taskId,s);case 9:if(0!==(c=t.sent).data.resultCode){t.next=15;break}return r.dispatch(z.setAppStatus({status:"succeeded"})),t.abrupt("return",e);case 15:return t.abrupt("return",M(c.data,r));case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(6),t.abrupt("return",H(t.t0,r));case 21:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e,r){return t.apply(this,arguments)}}()),tt={fetchTasksTC:_,createTasksTC:Q,deleteTaskTC:X,updateTaskTC:Z},et=Object(F.d)({name:"tasks",initialState:{},reducers:{},extraReducers:function(t){t.addCase(U.createTodolistTC.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})),t.addCase(U.deleteTodolistTC.fulfilled,(function(t,e){delete t[e.payload.id]})),t.addCase(U.fetchTodolistsThunk.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){t[e.id]=[]}))})),t.addCase(_.fulfilled,(function(t,e){t[e.payload.todolistId]=e.payload.tasks})),t.addCase(X.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&r.splice(a,1)})),t.addCase(Q.fulfilled,(function(t,e){t[e.payload.todoListId].unshift(e.payload)})),t.addCase(Z.fulfilled,(function(t,e){var r=t[e.payload.todolistId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(r[a]=Object(x.a)(Object(x.a)({},r[a]),e.payload.model))}))}}),rt=r(48),at=r(182),nt=r(4),st=u.a.memo((function(t){var e=Object(o.useState)(""),r=Object(rt.a)(e,2),a=r[0],n=r[1],s=Object(o.useState)(null),c=Object(rt.a)(s,2),i=c[0],u=c[1],d=function(){var e=Object(g.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==a.trim()?t.addItem(a,{setError:u,setTitle:n}):u("Title is Required");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(nt.jsxs)("div",{children:[Object(nt.jsx)(at.a,{variant:"outlined",disabled:t.disabled,error:!!i,value:a,onChange:function(t){n(t.currentTarget.value)},onKeyPress:function(t){if(null!==i)return u(null);13===t.charCode&&d()},label:"Title",helperText:i}),Object(nt.jsx)(f.a,{onClick:d,color:"primary",disabled:t.disabled,children:"+"})]})})),ct=u.a.memo((function(t){var e=Object(o.useState)(!1),r=Object(rt.a)(e,2),a=r[0],n=r[1],s=Object(o.useState)(t.value),c=Object(rt.a)(s,2),i=c[0],u=c[1];return a?Object(nt.jsx)(at.a,{onBlur:function(){n(!1),t.onChange(i)},value:i,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0}):Object(nt.jsx)("span",{onDoubleClick:function(){n(!0),u(t.value)},children:t.value})})),it=r(172),ot=r(184);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Complited=2]="Complited",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(s||(s={}));var ut=r(21),dt=r(23),lt=function(){return Object(ut.b)()};function pt(t){var e=lt();return Object(o.useMemo)((function(){return Object(dt.b)(t,e)}),[])}var ft=u.a.memo((function(t){var e=pt(Tt),r=e.deleteTaskTC,a=e.updateTaskTC,s=Object(o.useCallback)((function(){return r({taskId:t.task.id,todolistId:t.todolistID})}),[t.task.id,t.todolistID]),c=Object(o.useCallback)((function(e){a({taskId:t.task.id,model:{status:e.currentTarget.checked?n.Complited:n.New},todolistId:t.todolistID})}),[t.task.id,t.todolistID]),i=Object(o.useCallback)((function(e){a({taskId:t.task.id,model:{title:e},todolistId:t.todolistID})}),[t.task.id,t.todolistID]);return Object(nt.jsxs)("div",{className:t.task.status===n.Complited?"is-done":"",children:[Object(nt.jsx)(ot.a,{checked:t.task.status==n.Complited,color:"primary",onChange:c}),Object(nt.jsx)(ct,{value:t.task.title,onChange:i}),Object(nt.jsx)(f.a,{onClick:s,children:Object(nt.jsx)(it.a,{fontSize:"small"})})]},t.task.id)})),bt=u.a.memo((function(t){var e=lt(),r=pt(Tt),a=r.fetchTasksTC,s=(r.createTasksTC,pt(Ct)),c=s.CHANGETODOLISTFILTERAC,i=s.updateTodolistTC,u=s.deleteTodolistTC;Object(o.useEffect)((function(){a(t.todolist.id)}),[]);var d=Object(o.useCallback)(function(){var r=Object(g.a)(k.a.mark((function r(a,n){var s,c,i,o,u,d;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=Tt.createTasksTC({title:a,todolistId:t.todolist.id}),r.next=3,e(s);case 3:c=r.sent,Tt.createTasksTC.rejected.match(c)?(null===(i=c.payload)||void 0===i||null===(o=i.errors)||void 0===o?void 0:o.length)?(d=null===(u=c.payload)||void 0===u?void 0:u.errors[0],n.setError(d),console.log(d)):n.setError("Some error occured"):n.setTitle("");case 5:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}(),[t.todolist.id]),l=Object(o.useCallback)((function(e){i({id:t.todolist.id,title:e})}),[t.todolist.id]),p=Object(o.useCallback)((function(e){return c({filter:e,id:t.todolist.id})}),[t.todolist.id]),b=t.tasks;"active"===t.todolist.filter&&(b=t.tasks.filter((function(t){return t.status===n.New}))),"complited"===t.todolist.filter&&(b=t.tasks.filter((function(t){return t.status===n.Complited})));var j=function(e,r,a){return Object(nt.jsx)(h.a,{variant:t.todolist.filter===e?"outlined":"text",onClick:function(){return p(e)},color:r,children:a})};return Object(nt.jsxs)("div",{children:[Object(nt.jsxs)("h3",{children:[Object(nt.jsx)(ct,{onChange:l,value:t.todolist.title}),Object(nt.jsx)(f.a,{onClick:function(){u(t.todolist.id)},disabled:"loading"===t.todolist.entityStatus,children:Object(nt.jsx)(it.a,{})})]}),Object(nt.jsx)(st,{addItem:d,disabled:"loading"===t.todolist.entityStatus}),Object(nt.jsx)("div",{children:b.map((function(e){return Object(nt.jsx)(ft,{task:e,todolistID:t.todolist.id},e.id)}))}),Object(nt.jsxs)("div",{children:[j("all","default","All"),j("active","primary","Active"),j("complited","secondary","Completed")]})]})})),jt=r(175),ht=r(132),Ot=r(17),vt=function(t){return t.auth.isLoggedIn},xt=function(t){return t.app.status},mt=function(t){return t.app.isInitialized},kt=function(t){return t.app.error},gt=function(){var t=Object(ut.c)((function(t){return t.todolists})),e=Object(ut.c)((function(t){return t.tasks})),r=Object(ut.c)(vt),a=(Object(ut.c)(mt),lt()),n=pt(Ct).fetchTodolistsThunk,s=Object(o.useCallback)(function(){var t=Object(g.a)(k.a.mark((function t(e,r){var n,s,c,i,o,u;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ct.createTodolistTC(e),t.next=3,a(n);case 3:s=t.sent,Ct.createTodolistTC.rejected.match(s)?(null===(c=s.payload)||void 0===c||null===(i=c.errors)||void 0===i?void 0:i.length)?(u=null===(o=s.payload)||void 0===o?void 0:o.errors[0],r.setError(u)):r.setError("Some error occured"):r.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){r&&n()}),[]),r?Object(nt.jsx)("div",{className:"App",children:Object(nt.jsxs)(v.a,{fixed:!0,children:[Object(nt.jsx)(jt.a,{container:!0,style:{padding:"30px"},children:Object(nt.jsx)(st,{addItem:s})}),Object(nt.jsx)(jt.a,{container:!0,spacing:3,children:t.map((function(t){var r=e[t.id];return Object(nt.jsx)(jt.a,{item:!0,children:Object(nt.jsx)(ht.a,{style:{padding:"10px"},children:Object(nt.jsx)(bt,{tasks:r,todolist:t},t.id)})})}))})]})}):Object(nt.jsx)(Ot.a,{to:"/auth"})},Ct=Object(x.a)(Object(x.a)({},U),J.actions),Tt=Object(x.a)(Object(x.a)({},tt),et.actions),yt=J.reducer,It=et.reducer,wt=r(186),At=r(183);function St(t){return Object(nt.jsx)(At.a,Object(x.a)({elevation:6,variant:"filled"},t))}function Et(){var t=Object(ut.c)(kt),e=pt(z).setAppError,r=function(t,r){"clickaway"!==r&&e({error:null})};return Object(nt.jsx)(wt.a,{open:null!=t,autoHideDuration:5e3,onClose:r,children:Object(nt.jsx)(St,{onClose:r,severity:"error",children:t})})}var Lt=z.setAppStatus,Dt=Object(F.c)("auth/login",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Lt({status:"loading"})),t.prev=1,t.next=4,N(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(Lt({status:"succeeded"})),t.abrupt("return");case 10:return t.abrupt("return",M(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Nt=Object(F.c)("auth/logout",function(){var t=Object(g.a)(k.a.mark((function t(e,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(Lt({status:"loading"})),t.prev=1,t.next=4,P();case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(Lt({status:"succeeded"})),t.abrupt("return");case 10:M(a.data,r);case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",H(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Pt={loginTC:Dt,logoutTC:Nt},Rt=Object(F.d)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedInAC:function(t,e){t.isLoggedIn=e.payload.value}},extraReducers:function(t){t.addCase(Dt.fulfilled,(function(t){t.isLoggedIn=!0})).addCase(Nt.fulfilled,(function(t){t.isLoggedIn=!1}))}}),Ft=(Rt.actions.setIsLoggedInAC,r(169)),zt=r(170),Mt=r(176),Ht=r(177),Wt=r(90),Vt=function(){var t=lt(),e=Object(ut.c)(vt),r=Object(Wt.a)({validate:function(t){return t.email?t.password?void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(){var e=Object(g.a)(k.a.mark((function e(r,a){var n,s,c,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(qt.loginTC(r));case 2:n=e.sent,Dt.rejected.match(n)&&(null===(s=n.payload)||void 0===s||null===(c=s.fieldsErrors)||void 0===c?void 0:c.length)&&(o=null===(i=n.payload)||void 0===i?void 0:i.fieldsErrors[0],a.setFieldError(o.field,o.error));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()});return e?Object(nt.jsx)(Ot.a,{to:"/"}):Object(nt.jsx)(jt.a,{container:!0,justify:"center",children:Object(nt.jsx)(jt.a,{item:!0,xs:4,children:Object(nt.jsx)("form",{onSubmit:r.handleSubmit,children:Object(nt.jsxs)(Ft.a,{children:[Object(nt.jsxs)(zt.a,{children:[Object(nt.jsxs)("p",{children:["To log in get registered",Object(nt.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:"here"})]}),Object(nt.jsx)("p",{children:"or use common test account credentials:"}),Object(nt.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(nt.jsx)("p",{children:"Password: free"})]}),Object(nt.jsxs)(Mt.a,{children:[Object(nt.jsx)(at.a,Object(x.a)({label:"Email",margin:"normal"},r.getFieldProps("email"))),r.errors.email?Object(nt.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(nt.jsx)(at.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password"))),r.errors.password?Object(nt.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(nt.jsx)(Ht.a,Object(x.a)(Object(x.a)({label:"Remember me",control:Object(nt.jsx)(ot.a,{})},r.getFieldProps("rememberMe")),{},{checked:r.values.rememberMe})),Object(nt.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},qt=Object(x.a)(Object(x.a)({},Rt.actions),Pt),Bt=Rt.reducer,Gt=Object(F.c)("app/initializeApp",function(){var t=Object(g.a)(k.a.mark((function t(e,r){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:0===t.sent.data.resultCode&&r.dispatch(qt.setIsLoggedInAC({value:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Ut={initializeAppTC:Gt},Jt=Object(F.d)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1,isLoaded:!1},reducers:{},extraReducers:function(t){t.addCase(Gt.fulfilled,(function(t,e){t.isInitialized=!0})).addCase(z.setAppStatus,(function(t,e){t.status=e.payload.status})).addCase(z.setAppError,(function(t,e){t.error=e.payload.error}))}}),Kt=Object(x.a)(Object(x.a)({},Jt.actions),Ut),Yt=Jt.reducer,$t=function(){var t=Object(ut.c)(xt),e=Object(ut.c)(a.selectIsLoggedIn),r=Object(ut.c)(mt),n=pt(qt).logoutTC,s=pt(Kt).initializeAppTC;Object(o.useEffect)((function(){s()}),[]);var c=Object(o.useCallback)((function(){n()}),[]);return r?Object(nt.jsxs)("div",{className:"App",children:[Object(nt.jsx)(Et,{}),Object(nt.jsxs)(l.a,{position:"static",children:[Object(nt.jsxs)(p.a,{children:[Object(nt.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(nt.jsx)(b.a,{})}),Object(nt.jsx)(j.a,{variant:"h6",children:"My App"}),e&&Object(nt.jsx)(h.a,{color:"inherit",onClick:c,children:"Log out"})]}),"loading"===t&&Object(nt.jsx)(O.a,{})]}),Object(nt.jsx)(v.a,{fixed:!0,children:Object(nt.jsxs)(Ot.d,{children:[Object(nt.jsx)(Ot.b,{exact:!0,path:"/",render:function(){return Object(nt.jsx)(gt,{})}}),Object(nt.jsx)(Ot.b,{path:"/auth",render:function(){return Object(nt.jsx)(Vt,{})}}),Object(nt.jsx)(Ot.b,{path:"*",render:function(){return Object(nt.jsx)(gt,{})}})]})})]}):Object(nt.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(nt.jsx)(d.a,{})})},_t=r(51),Qt=Object(dt.c)({todolists:yt,tasks:It,app:Yt,auth:Bt}),Xt=Object(F.a)({reducer:Qt,middleware:function(t){return t().prepend(_t.a)}});window.store=Xt;var Zt=r(50);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(nt.jsx)(ut.a,{store:Xt,children:Object(nt.jsx)(Zt.a,{children:Object(nt.jsx)($t,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},65:function(t,e,r){}},[[131,1,2]]]);
//# sourceMappingURL=main.93886038.chunk.js.map